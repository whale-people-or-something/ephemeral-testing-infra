---
apiVersion: helm.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: {{  .Values.github.sha  }}-{{  .Values.github.branch  }}-auto-k8s-helm-provider-config
spec:
  credentials:
    source: Secret
    secretRef:
      name: {{  .Values.github.sha  }}-{{  .Values.github.branch  }}-auto-kube
      namespace: default
      key: kubeconfig
  identity:
    type: GoogleApplicationCredentials
    source: Secret
    secretRef:
      name: gcp-creds
      namespace: crossplane-system
      key: creds